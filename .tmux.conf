# ~/.tmux.conf
#
# Tmux configuration
# ref: https://tmux.github.io/

####################################
# Settings
####################################

# History
set-option -g history-limit 10000

# Start numbering at 1
set -g base-index 1
setw -g pane-base-index 1

# No delay for escape key
set -sg escape-time 0

# Vi-style mode keys
setw -g mode-keys vi

# Disable window renaming
setw -g automatic-rename off

# Allow the arrow key to be used immediately after changing windows
set-option -g repeat-time 0

# Add truecolor support
set-option -ga terminal-overrides ",xterm-256color:Tc"
# Improve colors
set -g default-terminal 'screen-256color'

# Enable activity alerts
setw -g monitor-activity on
set -g visual-activity on

# Enable mouse mode (tmux 2.1 and above)
set -g mouse on

####################################
# Key bindings
####################################

# Remap prefix to Ctrl + a
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# Vim style pane selection
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Use Alt-arrow keys without prefix key to switch panes
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Look up in a man-page
bind-key m command-prompt -p "Man:" "split-window 'man %%'"

# Reload source file
bind-key r source-file ~/.tmux.conf \; display-message 'Configuration reloaded'

####################################
# Statusbar layouts and colors
####################################

# `wombat256mod` colorscheme
TXC_RED="colour197"
TXC_BLUE="colour27"
TXC_DARK="colour234"
TXC_LIGHT="colour15"

# Statusbar colors
set -g status-bg $TXC_BLUE
set -g status-fg $TXC_DARK

# Remove space between window titles
set -g window-status-separator ""

# Left/right side of status bar
set -g status-left-length 50
set -g status-left "#[bg=$TXC_LIGHT] #h:#S #[bg=$TXC_RED,fg=$TXC_LIGHT,bright] #I #[default]"
set -g status-right "#[bg=$TXC_LIGHT] %H:%M ~ %d/%m/%y #[default]"

# Default window title colors
setw -g window-status-fg $TXC_LIGHT
setw -g window-status-format ' #I:#W #[default]'

# Active window title colors
setw -g window-status-current-bg $TXC_DARK
setw -g window-status-current-fg $TXC_LIGHT
setw -g window-status-current-attr bold
setw -g window-status-current-format ' #I:#W #[default]'

# Command/message line colors
set -g message-fg $TXC_LIGHT
set -g message-bg $TXC_DARK
