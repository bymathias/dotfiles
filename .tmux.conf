# ~/.tmux.conf
#
# Tmux configuration
# ref: https://tmux.github.io/

# History
set-option -g history-limit 10000

# Start numbering at 1
set -g base-index 1
setw -g pane-base-index 1

# No delay for escape key
set -sg escape-time 0

# Vi-style mode keys
setw -g mode-keys vi

# Disable window renaming
setw -g automatic-rename off

# Remap prefix to Ctrl + a
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# Vim style pane selection
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Use Alt-arrow keys without prefix key to switch panes
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Look up in a man-page
bind-key m command-prompt -p "Man:" "split-window 'man %%'"

# Improve colors
set -g default-terminal 'screen-256color'

# Allow the arrow key to be used immediately after changing windows
set-option -g repeat-time 0

# Renumber windows sequentially after closing any of them
# set-option -g renumber-windows on

# Enable activity alerts
setw -g monitor-activity on
set -g visual-activity on

# Statusbar
# set-option -g status-utf8 on

# Reload source file
bind-key r source-file ~/.tmux.conf \; display-message 'Configuration reloaded'

# OS Specific settings
if-shell 'test "$(uname -s)" = "Darwin"' 'source ~/.dotfiles/tmux/macos.tmux.conf'
if-shell 'test "$(uname -s)" = "Linux"' 'source ~/.dotfiles/tmux/linux.tmux.conf'

# Color schemes
source ~/.dotfiles/tmux/colors/default.conf
